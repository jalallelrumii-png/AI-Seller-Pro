<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ScriptLaku ELITE - Live Stream AI</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; -webkit-tap-highlight-color: transparent; }
        .ios-card { border-radius: 24px; border: 1px solid rgba(255,255,255,0.08); }
        .dark-theme { background: #000; color: #fff; }
        .light-theme { background: #F2F2F7; color: #000; }
        .input-group { background: rgba(120,120,128,0.12); border-radius: 16px; padding: 12px; }
        .input-field { background: transparent; width: 100%; outline: none; font-size: 14px; color: inherit; }
        .btn-gen { background: linear-gradient(135deg, #FF375F 0%, #BF5AF2 100%); transition: 0.3s; }
        .btn-gen:active { transform: scale(0.96); }
        [x-cloak] { display: none !important; }
        .spinner { width: 20px; height: 20px; border: 3px solid rgba(255,255,255,0.3); border-top-color: #fff; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body x-data="app()" :class="darkMode ? 'dark-theme' : 'light-theme'" x-cloak>

    <nav class="sticky top-0 z-50 backdrop-blur-xl border-b border-white/10 px-6 py-5 flex justify-between items-center" :class="darkMode ? 'bg-black/70' : 'bg-white/70'">
        <div>
            <h1 class="text-xl font-extrabold italic">Script<span class="text-pink-500">Laku</span></h1>
            <p class="text-[8px] font-black uppercase tracking-widest opacity-40">Elite Bulk Streamer v4.0</p>
        </div>
        <div class="flex gap-4">
            <button @click="darkMode = !darkMode" class="text-lg" x-text="darkMode ? 'â˜€ï¸' : 'ğŸŒ™'"></button>
            <button @click="openSet = true" class="text-lg">âš™ï¸</button>
        </div>
    </nav>

    <main class="p-4 max-w-md mx-auto space-y-6 pb-24">
        
        <div class="ios-card p-6 shadow-2xl" :class="darkMode ? 'bg-[#1C1C1E]' : 'bg-white'">
            <div class="flex justify-between items-center mb-6">
                <h2 class="font-extrabold text-lg">Input Produk</h2>
                <span class="text-[10px] bg-pink-500/10 text-pink-500 px-3 py-1 rounded-full font-bold">6 SLOTS</span>
            </div>

            <div class="space-y-6">
                <template x-for="(p, i) in products" :key="i">
                    <div class="p-4 rounded-2xl border border-white/5 bg-gray-500/5 space-y-3">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-2">
                                <span class="w-5 h-5 rounded-full bg-pink-500 text-white flex items-center justify-center text-[10px] font-bold" x-text="i+1"></span>
                                <span class="text-[10px] font-bold opacity-40 uppercase tracking-widest">Data Produk</span>
                            </div>
                        </div>

                        <div class="space-y-3">
                            <div class="input-group">
                                <input type="text" x-model="p.name" placeholder="Nama Produk (Mis: Jaket Bomber)" class="input-field font-bold">
                            </div>

                            <div class="grid grid-cols-2 gap-2">
                                <div class="input-group">
                                    <select x-model="p.cat" class="input-field font-semibold text-[11px]">
                                        <option>ğŸ‘— Fashion</option>
                                        <option>ğŸ’„ Beauty</option>
                                        <option>ğŸ“± Gadget</option>
                                        <option>ğŸœ Makanan</option>
                                        <option>ğŸ  Home</option>
                                        <option>ğŸ“¦ Lainnya</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <select x-model="p.style" class="input-field font-semibold text-[11px]">
                                        <option value="energik">ğŸ”¥ Energik</option>
                                        <option value="friendly">ğŸ˜Š Bestie</option>
                                        <option value="professional">ğŸ‘” Pro</option>
                                        <option value="galak">ğŸ˜¤ FOMO</option>
                                    </select>
                                </div>
                            </div>

                            <div class="grid grid-cols-2 gap-2">
                                <div class="input-group">
                                    <input type="text" x-model="p.price" placeholder="Harga Promo" class="input-field text-pink-500 font-bold">
                                </div>
                                <div class="input-group">
                                    <select x-model="p.type" class="input-field font-semibold text-[11px]">
                                        <option>ğŸ¯ Opening</option>
                                        <option>ğŸ›ï¸ Presentasi</option>
                                        <option>âš¡ Flash Sale</option>
                                        <option>ğŸ’¬ Closing</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
            </div>

            <button @click="generateAll()" :disabled="loading" class="w-full btn-gen py-5 mt-8 rounded-[20px] text-white font-black text-lg shadow-xl shadow-pink-500/20">
                <span x-show="!loading">ğŸš€ GENERATE 6 SKRIP</span>
                <div x-show="loading" class="flex justify-center"><div class="spinner"></div></div>
            </button>
        </div>

        <div class="space-y-4">
            <template x-for="(res, i) in results" :key="i">
                <div class="ios-card p-5 shadow-lg" :class="darkMode ? 'bg-[#1C1C1E]' : 'bg-white'" x-transition>
                    <div class="flex justify-between items-center mb-4 pb-2 border-b border-white/5">
                        <div class="flex flex-col">
                            <span class="text-[9px] font-black text-pink-500 uppercase tracking-tighter" x-text="'Script Live #' + (i+1)"></span>
                            <span class="text-xs font-bold opacity-60" x-text="products[i].name"></span>
                        </div>
                        <button @click="copy(res)" class="text-[10px] bg-blue-600 px-5 py-2 rounded-full font-black text-white shadow-lg active:scale-90 transition-all">COPY</button>
                    </div>
                    <div class="text-[14px] leading-relaxed opacity-90 whitespace-pre-wrap font-medium" x-html="res"></div>
                </div>
            </template>
        </div>
    </main>

    <div x-show="openSet" class="fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/90 backdrop-blur-md">
        <div class="ios-card w-full max-w-xs p-8 text-center bg-[#1C1C1E] border border-white/10">
            <h3 class="text-xl font-bold text-white mb-2">Activation</h3>
            <p class="text-[10px] text-gray-500 mb-6 uppercase">Masukkan License Key Server</p>
            <input type="password" x-model="apiKey" placeholder="SECRET-KEY-XXXX" class="w-full bg-white/5 p-4 rounded-xl text-center mb-6 text-white outline-none border border-white/10">
            <button @click="saveSet()" class="w-full btn-gen py-3 rounded-xl text-white font-bold">AKTIFKAN SEKARANG</button>
        </div>
    </div>

    <script>
        function app() {
            return {
                darkMode: true, loading: false, openSet: false,
                apiKey: localStorage.getItem('_secure_v4') || '',
                products: Array.from({length: 6}, () => ({ name: '', cat: 'ğŸ‘— Fashion', style: 'energik', price: '', type: 'ğŸ›ï¸ Presentasi' })),
                results: [],
                saveSet() { localStorage.setItem('_secure_v4', this.apiKey); this.openSet = false; },
                async generateAll() {
                    if(!this.apiKey) return this.openSet = true;
                    const valids = this.products.filter(p => p.name.trim() !== '');
                    if(valids.length === 0) return alert('Nama produk jangan kosong, bos!');
                    
                    this.loading = true; this.results = [];
                    try {
                        const jobs = valids.map(p => this.callAI(p));
                        this.results = await Promise.all(jobs);
                    } catch (e) { alert('License Key bermasalah!'); } finally { this.loading = false; }
                },
                async callAI(p) {
                    const r = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                        method: 'POST',
                        headers: { 'Authorization': `Bearer ${this.apiKey}`, 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            model: "llama-3.3-70b-versatile",
                            messages: [{ role: "user", content: `Buat skrip live stream jualan yang sangat persuasif. Produk: ${p.name}, Kategori: ${p.cat}, Tipe: ${p.type}, Gaya: ${p.style}, Harga: ${p.price}. Buat skrip yang bikin orang rebutan beli, singkat, dan seru!` }]
                        })
                    });
                    const d = await r.json();
                    return d.choices[0].message.content.replace(/\n/g, '<br>');
                },
                copy(t) { navigator.clipboard.writeText(t.replace(/<br>/g, '\n')); alert('Script Copied!'); }
            }
        }
    </script>
</body>
</html>
